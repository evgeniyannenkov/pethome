include ../../views/mixins/formParts

.filter
    filter(ng-if="feed.filter_enabled" feed-filter="feed.filter")
    +select("Date", {
        "type" : {
            "-publicationDate" : "Newer",
            "publicationDate" : "Older"
        }
    }, true)(ng-model = "feed.order" class="adverts-feed__select")
    +input("Date Range")(type="number" min=1 value=1 ng-model = "feed.dateRange" class="adverts-feed__select")
.adverts-feed(ng-if="!feed.customFilter")
    advert.advert(ng-repeat="(index, advert) in feed.adverts | dateRange : feed.dateRange | filter: feed.filter | orderBy : feed.order" fields="advert" hide-fields="feed.hideFields" author="feed.authors[advert.author]" ng-if="feed.allAllowed")
    advert.advert(ng-repeat="(index, advert) in feed.adverts | dateRange : feed.dateRange | feed : feed.authors | filter: feed.filter | orderBy : feed.order" fields="advert" hide-fields="feed.hideFields" author="feed.authors[advert.author]" ng-if="!feed.allAllowed")
.adverts-feed(ng-if="feed.customFilter")
    advert.advert(ng-repeat="(index, advert) in feed.adverts | dateRange : feed.dateRange | filter: feed.customFilter | orderBy : feed.order" fields="advert" hide-fields="feed.hideFields" author="feed.authors[advert.author]")