"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function getModules(){return{services:angular.module("services",[]),auth:angular.module("auth",[]),popup:angular.module("popup",[]),advert:angular.module("advert",[]),app:angular.module("app",["services","auth","popup","advert"])}}function authServicesInit(t){t.factory("authService",["$http",function(t){var e=function(e,o){return new Promise(function(n,r){t({method:"post",url:e,data:o}).then(function(t){n(t)})["catch"](function(t){r(t)})})};return{authenticate:e}}])}function advertDirectivesInit(t){var e="/assets/templates";t.directive("advertPost",["$http",function(t){return{restrict:"A",templateUrl:e+"/advert.html",scope:{advert:"="}}}])}function popupDirectivesInit(t){var e="/assets/templates";t.directive("popup",["$http",function(t){return{restrict:"A",transclude:{trigger:"popupTrigger",content:"popupContent"},templateUrl:e+"/popup.html",scope:{type:"@"}}}])}function advertControllersInit(t){t.controller("advertsFeedCtrl",["$http",function(t){var e=this;this.getAdverts=function(){t({method:"get",url:"/advert"}).then(function(t){t.data.adverts&&(e.adverts=t.data.adverts)})["catch"](function(t){console.log(t)})},this.getAdverts()}]),t.controller("newAdvertCtrl",["$http",function(t){var e=this;this.advert={gender:"boy",type:"dog",age:1},this.create=function(){t({method:"post",url:"/advert",data:e.advert}).then(function(t){console.log(t.data)})["catch"](function(t){console.log(t)})}}])}function authControllersInit(t){var e=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,o=/.*\S.*/;t.controller("registrationCtrl",["$scope","$http","$timeout","authService",function(t,n,r,i){var a=this;this.emailRegex=e,this.passwordRegex=o,this.type="registration",this.checkForm=function(){a.error=!t.registrationForm.$valid,a.validClass=t.registrationForm.$valid?"valid":"error"},this.registration=function(){t.registrationForm.email.$setTouched(),t.registrationForm.password.$setTouched(),t.registrationForm.$valid?i.authenticate("/advertiser",{email:a.email,password:a.password}).then(function(t){t.data.success?r(function(){a.responseClass="success",document.location.reload()},3e3):(console.log(a.type+": failed"),console.log(t))})["catch"](function(t){t.data.success?console.log(t):(r(function(){a.responseClass="fail"},3e3),console.log(t.data.message))}):console.log("Registration Form Invalid")}}]),t.controller("loginCtrl",["$scope","$http","$timeout","authService",function(t,n,r,i){var a=this;this.emailRegex=e,this.passwordRegex=o,this.type="login",this.checkForm=function(){a.error=!t.loginForm.$valid,a.validClass=t.loginForm.$valid?"valid":"error"},this.login=function(){t.loginForm.email.$setTouched(),t.loginForm.password.$setTouched(),t.loginForm.$valid?i.authenticate("/advertiser/login",{email:a.email,password:a.password}).then(function(t){t.data.success?r(function(){a.responseClass="success",document.location.reload()},3e3):(console.log(a.type+": failed"),console.log(t))})["catch"](function(t){t.data.success?console.log(t):(r(function(){a.responseClass="fail"},3e3),console.log(t.data.message))}):console.log("Login Form Invalid")}}]),t.controller("logoutCtrl",["$http",function(t){this.logout=function(){t({method:"GET",url:"/advertiser/logout"}).then(function(t){t.data.success?document.location.reload():console.log(t.data.message)})["catch"](function(t){console.log(t)})}}])}function popupControllersInit(t){t.controller("popupCtrl",[function(){this.active=!1}])}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),Portfolio=function(){function t(e){_classCallCheck(this,t),this.modules=e}return _createClass(t,[{key:"initComponents",value:function(t,e){for(var o=0;o<e.length;o++)e[o](this.modules[t])}},{key:"init",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.initComponents(e,t[e])}}]),t}(),modules=getModules(),components={services:[authServicesInit],auth:[authControllersInit],popup:[popupControllersInit,popupDirectivesInit],advert:[advertControllersInit,advertDirectivesInit]},portfolio=new Portfolio(modules);portfolio.init(components);
//# sourceMappingURL=main.js.map
